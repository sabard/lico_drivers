config:
    tick_len: 10000
    source_init_ticks: 10
    num_ticks: 1000

signals:
    audio_data:
        shape: 441
        dtype: int16
        history: 10000

modules:
    # sources
    audio_in:
        language: python
        # constructor: True
        # parser: True
        in:
            name: audio_in
            async: True
            args:
                # type: file_audio
                # audio_file: "../../<your_audio_file>.mp3"
                type: sounddevice
                rate: 44100
                device: "digital input"
            schema:
                data:
                    dtype: int16
                    size: 441
        out:
            - audio_data

    # modules
    audio_print:
        language: python
        parser: True
        in:
            - audio_data

    # sinks
    audio_vis:
        language: python
        constructor: True
        parser: True
        destructor: True
        in:
            - audio_data
        out:
            name: audio_out
            async: True
            args:
                type: vis_pygame

    # TODO implement saving back to file
    # audio_vis:
    #     language: python
    #     constructor: True
    #     parser: True
    #     destructor: True
    #     in:
    #         - audio_data
    #     out:
    #         name: audio_out
    #         async: True
    #         args:
    #             type: vis_pygame
